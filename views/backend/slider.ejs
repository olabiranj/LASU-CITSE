<!doctype html>
<html lang="en">
  <head>
    <%- include('../partials/dashboard-head', {pagename: 'Edit Slider'}) %>
  </head>

  <body>
    <%- include('../partials/dashboard-nav') %>

    <div class="container-fluid">
      <div class="row">

        <!-- sidebar -->
         <%- include('../partials/sidebar.ejs', {active: 'slider', activeParent: 'home'}) %>

        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
           <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-5 pb-2 mb-3">
            <h1 class="h2">Slider CMS</h1>
          </div>

          <h3 style = "<%if(result.length == 0) {%> display: block   <% } else if(result.length > 0) {%> display: none <% }%>" >Create Slide Images</h3>
                    <form  action="/uploadslider" style = "<%if(result.length == 0) {%> display: block  <% } else if(result.length > 0) {%> display: none <% }%>" method="POST" enctype="multipart/form-data">
        <div class="form-group row">
            <label for="inputEmail3" class="col-sm-2 col-form-label">Image 1</label>
            <div class="col-sm-10">
            <input type="file" class="form-control" id="img" name="slider1">
            </div>
        </div>

        <div class="form-group row">
            <label for="inputEmail3" class="col-sm-2 col-form-label">Image 2</label>
            <div class="col-sm-10">
            <input type="file" class="form-control" id="img" name="slider2">
            </div>
        </div>

        <div class="form-group row">
            <label for="inputEmail3" class="col-sm-2 col-form-label">Image 3</label>
            <div class="col-sm-10">
            <input type="file" class="form-control" id="img" name="slider3">
            </div>
        </div>

           <div class="form-group row">
            <div class="col-sm-10">
            <button type="submit" id="submit" class="btn btn-primary">upload</button>
            </div>
        </div>
        </form>
<hr>

          <h3 style = "<%if(result.length == 0) {%> display: none   <% } else if(result.length > 0) {%> display: block <% }%>">Update Slider Images</h3>
                    <form style = "<%if(result.length == 0) {%> display: none  <% } else if(result.length > 0) {%> display: block <% }%>" action="/update/uploadslider?_method=PUT" method="POST" enctype="multipart/form-data">
        <div class="form-group row">
            <label for="inputEmail3" class="col-sm-2 col-form-label">Image 1</label>
            <div class="col-sm-10">
            <input type="file" class="form-control" id="img" name="slider1">
            </div>
        </div>

        <div class="form-group row">
            <label for="inputEmail3" class="col-sm-2 col-form-label">Image 2</label>
            <div class="col-sm-10">
            <input type="file" class="form-control" id="img" name="slider2">
            </div>
        </div>

        <div class="form-group row">
            <label for="inputEmail3" class="col-sm-2 col-form-label">Image 3</label>
            <div class="col-sm-10">
            <input type="file" class="form-control" id="img" name="slider3">
            </div>
        </div>

           <div class="form-group row">
            <div class="col-sm-10">
            <button type="submit" id="submit" class="btn btn-primary">update</button>
            </div>
        </div>
        </form>
        <span style="display: none" id="failure">
        <%=failure%>
    </span>
        <span style="display: none" id="success">
        <%=success%>
    </span>
       <span style="display: none" id="uploaded">
        <%=uploaded%>
    </span>

          <br> <br>
        <h1 style="margin-left:200px">Slider Images</h1> <hr>

                <table class="table" style="width:800px; margin-left:200px">
            <thead class="thead-dark" style="font-weight:bold; font-size: 20px;" >
                <tr>
                <th scope="col">Name</th>
                <th scope="col">Link</th>
                </tr>
            </thead>
            <tbody style="font-size:20px">
              <% for(var i=0; i < result.length; i++) { %>
                <tr>
                 <td><%=result[i].slider1.name%></td>
                 <td><img src="<%=result[i].slider1.path%>" width="200px" height="150px" alt=""> </td>
               </tr>

               <tr>
                 <td><%=result[i].slider2.name%></td>
                 <td><img src="<%=result[i].slider2.path%>" width="200px" height="150px" alt=""></td>
               </tr>

               <tr>
                 <td><%=result[i].slider3.name%></td>
                 <td><img src="<%=result[i].slider3.path%>" width="200px" height="150px" alt=""></td>
               </tr>
                                <% } %>

            </tbody>
            </table>

          </div>


                    <!-- <h3>Slider only accepts three images</h3>
                    <form action="/update/uploadslider?_method=PUT" method="POST" enctype="multipart/form-data">
        <div class="form-group row">
            <label for="inputEmail3" class="col-sm-2 col-form-label">Image 1</label>
            <div class="col-sm-10">
            <input type="file" class="form-control" id="img" name="slider1">
            </div>
        </div>

        <div class="form-group row">
            <label for="inputEmail3" class="col-sm-2 col-form-label">Image 2</label>
            <div class="col-sm-10">
            <input type="file" class="form-control" id="img" name="slider2">
            </div>
        </div>

        <div class="form-group row">
            <label for="inputEmail3" class="col-sm-2 col-form-label">Image 3</label>
            <div class="col-sm-10">
            <input type="file" class="form-control" id="img" name="slider3">
            </div>
        </div>

           <div class="form-group row">
            <div class="col-sm-10">
            <button type="submit" id="submit" class="btn btn-primary">upload</button>
            </div>
        </div>
        </form>

          </div> -->


        </main>
      </div>
    </div>

    <%- include('../partials/dashboard-scripts') %>
    <script type="text/javascript">
      if($.trim($('#failure').text()).length !== 0) {
        alert("<%=failure%>")
      }

      if($.trim($('#uploaded').text()).length !== 0) {
        alert("<%=uploaded%>")
      }

      if($.trim($('#success').text()).length !== 0) {
          alert("<%=success%>")
      }
    </script>

<!-- <script>
    $("#submit").click(function(event){
      alert('hello')
      event.preventDefault();
        var $fileUpload = $("#img");
        if (parseInt($fileUpload.get(0).files.length)>2){
         alert("You can only upload a maximum of 2 files");
        }
    });
â€‹
</script> -->
  </body>
</html>





